{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\react_api_todo\\\\todoapp\\\\src\\\\components\\\\auth\\\\Register.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { setToken } from '../../actions/authActions';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.register = e => {\n      e.preventDefault();\n      const name = e.target.name.value;\n      const email = e.target.email.value;\n      const password = e.target.password.value;\n      let access_token = \"\";\n      axios.post('/oauth/token/', {\n        grant_type: 'password',\n        client_id: 2,\n        client_secret: 'NFAjDhC2pruCS3d9W2Ewfggavr5lsKFLbSyrSJrs',\n        username: username,\n        password: password\n      }).then(res => {\n        access_token = res.data.access_token;\n        this.props.setToken(access_token);\n        localStorage.setItem('access_token', access_token);\n        localStorage.setItem('isLoggedIn', true);\n        this.props.history.push('/todos');\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col s12\",\n      onSubmit: this.register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"name\",\n      type: \"text\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, \"Name\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"email\",\n      type: \"email\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, \"Email\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"password\",\n      type: \"password\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, \"Password\"))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn waves-effect waves-light\",\n      type: \"submit\",\n      name: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"Create Account\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setToken: token => {\n      dispatch(setToken(token));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/xampp/htdocs/react_api_todo/todoapp/src/components/auth/Register.js"],"names":["React","Component","connect","axios","setToken","Login","register","e","preventDefault","name","target","value","email","password","access_token","post","grant_type","client_id","client_secret","username","then","res","data","props","localStorage","setItem","history","push","catch","error","console","log","render","mapStateToProps","state","token","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios'\r\nimport { setToken } from '../../actions/authActions'\r\n\r\n\r\nclass Login extends Component {\r\n    register = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name.value;\r\n        const email = e.target.email.value;\r\n        const password = e.target.password.value;\r\n        let access_token = \"\"\r\n        axios.post('/oauth/token/', {\r\n            grant_type: 'password',\r\n            client_id: 2,\r\n            client_secret: 'NFAjDhC2pruCS3d9W2Ewfggavr5lsKFLbSyrSJrs',\r\n            username: username,\r\n            password: password\r\n          })\r\n          .then(res => {\r\n            access_token = res.data.access_token;\r\n            this.props.setToken(access_token);\r\n            localStorage.setItem('access_token', access_token);\r\n            localStorage.setItem('isLoggedIn', true);\r\n            this.props.history.push('/todos');\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n        \r\n    }\r\n   \r\n    render(){\r\n     \r\n        return(\r\n            <div className=\"container\">\r\n            <h4 className=\"center\">Register</h4>\r\n            <div className=\"row\">\r\n                <form className=\"col s12\" onSubmit={this.register}>\r\n                \r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                        <input id=\"name\" type=\"text\" className=\"validate\" />\r\n                        <label htmlFor=\"name\">Name</label>\r\n                    </div>\r\n                </div>\r\n              \r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                        <input id=\"email\" type=\"email\" className=\"validate\" />\r\n                        <label htmlFor=\"email\">Email</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                    <input id=\"password\" type=\"password\" className=\"validate\" />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">Create Account\r\n                    <i className=\"material-icons right\"></i>\r\n                </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.token\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setToken: (token) => { dispatch(setToken(token))}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}