{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\react_api_todo\\\\todoapp\\\\src\\\\components\\\\auth\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { setToken } from '../../actions/authActions';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.login = e => {\n      e.preventDefault();\n      const username = e.target.username.value;\n      const password = e.target.password.value;\n      let access_token = \"\";\n      axios.post('/oauth/token/', {\n        grant_type: 'password',\n        client_id: 2,\n        client_secret: 'NFAjDhC2pruCS3d9W2Ewfggavr5lsKFLbSyrSJrs',\n        username: username,\n        password: password\n      }).then(res => {\n        access_token = res.data.access_token;\n        console.log('before state', access_token);\n        localStorage.setItem('access_token', access_token);\n        this.props.setToken(access_token);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    const {\n      token\n    } = this.props;\n    console.log('login', token);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, \"Token \", token, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col s12\",\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"username\",\n      type: \"email\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, \"Email\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"password\",\n      type: \"password\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, \"Password\"))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn waves-effect waves-light\",\n      type: \"submit\",\n      name: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, \"Login\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setToken: token => {\n      dispatch(setToken(token));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/xampp/htdocs/react_api_todo/todoapp/src/components/auth/Login.js"],"names":["React","Component","connect","axios","setToken","Login","login","e","preventDefault","username","target","value","password","access_token","post","grant_type","client_id","client_secret","then","res","data","console","log","localStorage","setItem","props","catch","error","render","token","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios'\r\nimport { setToken } from '../../actions/authActions'\r\n\r\n\r\nclass Login extends Component {\r\n    login = (e) => {\r\n        e.preventDefault();\r\n        const username = e.target.username.value;\r\n        const password = e.target.password.value;\r\n        let access_token = \"\"\r\n        axios.post('/oauth/token/', {\r\n            grant_type: 'password',\r\n            client_id: 2,\r\n            client_secret: 'NFAjDhC2pruCS3d9W2Ewfggavr5lsKFLbSyrSJrs',\r\n            username: username,\r\n            password: password\r\n          })\r\n          .then(res => {\r\n            access_token = res.data.access_token;\r\n            console.log('before state', access_token);\r\n            localStorage.setItem('access_token', access_token);\r\n            this.props.setToken(access_token);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n        \r\n    }\r\n   \r\n    render(){\r\n       const {token } = this.props;\r\n       console.log('login',token)\r\n        return(\r\n            <div className=\"container\">\r\n            Token {token}\r\n            <h4 className=\"center\">Login</h4>\r\n            <div className=\"row\">\r\n                <form className=\"col s12\" onSubmit={this.login}>\r\n                                \r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                        <input id=\"username\" type=\"email\" className=\"validate\" />\r\n                        <label htmlFor=\"username\">Email</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                    <input id=\"password\" type=\"password\" className=\"validate\" />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">Login\r\n                    <i className=\"material-icons right\"></i>\r\n                </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.token\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setToken: (token) => { dispatch(setToken(token))}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}