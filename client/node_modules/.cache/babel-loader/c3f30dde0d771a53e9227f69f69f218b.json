{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\react_api_todo\\\\todoapp\\\\src\\\\components\\\\Todos.js\";\nimport React, { Component } from 'react';\nimport Todo from './Todo';\nimport AddTodo from './AddTodo';\nimport axios from 'axios';\n\nclass Todos extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: []\n    };\n\n    this.markTodo = todo => {\n      const status = todo.status === \"Active\" ? \"Completed\" : \"Active\";\n      axios.patch('/todos/' + todo.id, {\n        status\n      }).then(res => {\n        this.setState({\n          todos: this.state.todos.map(stateTodo => {\n            if (stateTodo.id === todo.id) stateTodo.status = status;\n            return stateTodo;\n          })\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.editTodo = todo => {\n      console.log(todo);\n      axios.patch('/todos/' + todo.id, {\n        title: todo.title\n      }).then(res => {\n        this.setState({\n          todos: this.state.todos.map(stateTodo => {\n            if (stateTodo.id === todo.id) {\n              stateTodo.title = todo.title;\n            }\n\n            return stateTodo;\n          })\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.deleteTodo = id => {\n      axios.delete('/todos/' + id).then(res => {\n        this.setState({\n          todos: this.state.todos.filter(todo => {\n            return todo.id !== id;\n          })\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.addTodo = todo => {\n      axios.post('/todos/', {\n        title: todo.title\n      }).then(res => {\n        let todos = [...this.state.todos, res.data];\n        this.setState({\n          todos\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/todos/').then(res => {\n      this.setState({\n        todos: res.data.filter(todo => {\n          return todo.status !== 'Deleted';\n        })\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const todoList = this.state.todos.length ? this.state.todos.map(todo => {\n      return /*#__PURE__*/React.createElement(Todo, {\n        todo: todo,\n        key: todo.id,\n        markTodo: this.markTodo,\n        editTodo: this.editTodo,\n        deleteTodo: this.deleteTodo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      });\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, \"You have no Todos\");\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"todos collection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AddTodo, {\n      addTodo: this.addTodo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }), todoList);\n  }\n\n}\n\nexport default Todos;","map":{"version":3,"sources":["C:/xampp/htdocs/react_api_todo/todoapp/src/components/Todos.js"],"names":["React","Component","Todo","AddTodo","axios","Todos","state","todos","markTodo","todo","status","patch","id","then","res","setState","map","stateTodo","catch","error","console","log","editTodo","title","deleteTodo","delete","filter","addTodo","post","data","componentDidMount","get","render","todoList","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Todo from './Todo'\r\nimport AddTodo from './AddTodo'\r\nimport axios from 'axios'\r\n\r\n\r\nclass Todos extends Component {\r\n    state = {\r\n        todos: [\r\n          ]\r\n    };\r\n    componentDidMount(){\r\n        axios.get('/todos/')\r\n        .then(res => {\r\n            this.setState({\r\n                todos: res.data.filter(todo => {\r\n                  return (todo.status !== 'Deleted')\r\n                })\r\n            })\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n      } \r\n\r\n      markTodo = (todo) =>{\r\n        const status = (todo.status === \"Active\" ? \"Completed\" : \"Active\");\r\n        axios.patch('/todos/'+todo.id, {\r\n            status\r\n          })\r\n          .then(res => {\r\n            this.setState({\r\n                todos: this.state.todos.map(stateTodo => {\r\n                  if (stateTodo.id === todo.id)\r\n                      stateTodo.status = status;\r\n                  \r\n                  return stateTodo;\r\n                })\r\n              })\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n      }\r\n    \r\n      editTodo = (todo) =>{ \r\n        console.log(todo)\r\n        axios.patch('/todos/'+todo.id, {\r\n          title: todo.title,\r\n        })\r\n        .then(res => {\r\n            this.setState({\r\n                todos: this.state.todos.map(stateTodo => {\r\n                  if (stateTodo.id === todo.id){\r\n                  stateTodo.title = todo.title;\r\n                }\r\n                return stateTodo;\r\n                })\r\n              })\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n      }\r\n    \r\n      deleteTodo = (id) =>{\r\n        axios.delete('/todos/'+id)\r\n          .then(res => {\r\n              this.setState({\r\n                  todos: this.state.todos.filter(todo => {\r\n                    return (todo.id !== id)\r\n                  })\r\n                })\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n      }\r\n    \r\n      addTodo = (todo) => {\r\n        axios.post('/todos/', {\r\n          title: todo.title,\r\n        })\r\n        .then(res => {\r\n          let todos = [...this.state.todos, res.data]\r\n          this.setState({\r\n            todos\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n      }\r\n      \r\n    render(){\r\n        const todoList = this.state.todos.length ? (\r\n            this.state.todos.map(todo => {\r\n                return (\r\n                    <Todo todo={todo} key={todo.id} markTodo={this.markTodo} editTodo={this.editTodo} deleteTodo={this.deleteTodo}/>\r\n                )\r\n            })\r\n        ) : (\r\n            <p className=\"center\">You have no Todos</p>\r\n        );\r\n\r\n        return (\r\n                <ul className=\"todos collection\">\r\n                    <AddTodo addTodo={this.addTodo}/>\r\n\r\n                    {todoList}\r\n                </ul>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Todos"]},"metadata":{},"sourceType":"module"}