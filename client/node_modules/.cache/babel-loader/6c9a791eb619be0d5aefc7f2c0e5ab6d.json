{"ast":null,"code":"import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\react-lumen-todos\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\react-lumen-todos\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\react-lumen-todos\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\react-lumen-todos\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import axios from'axios';import{setToken as _setToken}from'../../actions/authActions';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.login=function(e){e.preventDefault();var username=e.target.username.value;var password=e.target.password.value;var access_token=\"\";axios.post('/oauth/token/',{grant_type:'password',client_id:2,client_secret:'oVt1470lwqJGaOOk4EFOYtJid0qsa7VIgAoG5iL5',username:username,password:password}).then(function(res){access_token=res.data.access_token;_this.props.setToken(access_token);_this.props.history.push('/todos');}).catch(function(error){console.log(error);});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"center\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col s12\",onSubmit:this.login},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{id:\"username\",type:\"email\",className:\"validate\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Email\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{id:\"password\",type:\"password\",className:\"validate\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light\",type:\"submit\",name:\"action\"},\"Login\",/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons right\"})))));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{token:state.token};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setToken:function setToken(token){dispatch(_setToken(token));}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/xampp/htdocs/react-lumen-todos/client/src/components/auth/Login.js"],"names":["React","Component","connect","axios","setToken","Login","login","e","preventDefault","username","target","value","password","access_token","post","grant_type","client_id","client_secret","then","res","data","props","history","push","catch","error","console","log","mapStateToProps","state","token","mapDispatchToProps","dispatch"],"mappings":"gpBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAQ,GAARA,CAAAA,SAAT,KAAyB,2BAAzB,C,GAGMC,CAAAA,K,uTACFC,K,CAAQ,SAACC,CAAD,CAAO,CACXA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,QAAQ,CAAGF,CAAC,CAACG,MAAF,CAASD,QAAT,CAAkBE,KAAnC,CACA,GAAMC,CAAAA,QAAQ,CAAGL,CAAC,CAACG,MAAF,CAASE,QAAT,CAAkBD,KAAnC,CACA,GAAIE,CAAAA,YAAY,CAAG,EAAnB,CACAV,KAAK,CAACW,IAAN,CAAW,eAAX,CAA4B,CACxBC,UAAU,CAAE,UADY,CAExBC,SAAS,CAAE,CAFa,CAGxBC,aAAa,CAAE,0CAHS,CAIxBR,QAAQ,CAAEA,QAJc,CAKxBG,QAAQ,CAAEA,QALc,CAA5B,EAOGM,IAPH,CAOQ,SAAAC,GAAG,CAAI,CACXN,YAAY,CAAGM,GAAG,CAACC,IAAJ,CAASP,YAAxB,CACA,MAAKQ,KAAL,CAAWjB,QAAX,CAAoBS,YAApB,EACA,MAAKQ,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACD,CAXH,EAYGC,KAZH,CAYS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAdH,EAgBH,C,wEAEO,CAEJ,mBACI,2BAAK,SAAS,CAAC,WAAf,eACA,0BAAI,SAAS,CAAC,QAAd,UADA,cAEA,2BAAK,SAAS,CAAC,KAAf,eACI,4BAAM,SAAS,CAAC,SAAhB,CAA0B,QAAQ,CAAE,KAAKnB,KAAzC,eAEA,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,EAAE,CAAC,UAAV,CAAqB,IAAI,CAAC,OAA1B,CAAkC,SAAS,CAAC,UAA5C,EADJ,cAEI,6BAAO,OAAO,CAAC,UAAf,UAFJ,CADJ,CAFA,cAQA,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACA,6BAAO,EAAE,CAAC,UAAV,CAAqB,IAAI,CAAC,UAA1B,CAAqC,SAAS,CAAC,UAA/C,EADA,cAEA,6BAAO,OAAO,CAAC,UAAf,aAFA,CADJ,CARA,cAcA,8BAAQ,SAAS,CAAC,8BAAlB,CAAiD,IAAI,CAAC,QAAtD,CAA+D,IAAI,CAAC,QAApE,uBACI,yBAAG,SAAS,CAAC,sBAAb,EADJ,CAdA,CADJ,CAFA,CADJ,CAyBH,C,mBAnDeL,S,EAsDpB,GAAM2B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACHC,KAAK,CAAED,KAAK,CAACC,KADV,CAAP,CAGH,CAJD,CAMA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACrC,MAAO,CACH5B,QAAQ,CAAE,kBAAC0B,KAAD,CAAW,CAAEE,QAAQ,CAAC5B,SAAQ,CAAC0B,KAAD,CAAT,CAAR,CAA0B,CAD9C,CAAP,CAGH,CAJD,CAMA,cAAe5B,CAAAA,OAAO,CAAC0B,eAAD,CAAkBG,kBAAlB,CAAP,CAA6C1B,KAA7C,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios'\r\nimport { setToken } from '../../actions/authActions'\r\n\r\n\r\nclass Login extends Component {\r\n    login = (e) => {\r\n        e.preventDefault();\r\n        const username = e.target.username.value;\r\n        const password = e.target.password.value;\r\n        let access_token = \"\"\r\n        axios.post('/oauth/token/', {\r\n            grant_type: 'password',\r\n            client_id: 2,\r\n            client_secret: 'oVt1470lwqJGaOOk4EFOYtJid0qsa7VIgAoG5iL5',\r\n            username: username,\r\n            password: password\r\n          })\r\n          .then(res => {\r\n            access_token = res.data.access_token;\r\n            this.props.setToken(access_token);\r\n            this.props.history.push('/todos');\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n        \r\n    }\r\n   \r\n    render(){\r\n     \r\n        return(\r\n            <div className=\"container\">\r\n            <h4 className=\"center\">Login</h4>\r\n            <div className=\"row\">\r\n                <form className=\"col s12\" onSubmit={this.login}>\r\n                                \r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                        <input id=\"username\" type=\"email\" className=\"validate\" />\r\n                        <label htmlFor=\"username\">Email</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                    <input id=\"password\" type=\"password\" className=\"validate\" />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">Login\r\n                    <i className=\"material-icons right\"></i>\r\n                </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.token\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setToken: (token) => { dispatch(setToken(token))},\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}